@ECHO OFF
CLS

REM Usuni©cie starych plik¢w
DELTREE /Y COMPILER\OUTPUT
DELTREE /Y INSTALL

MKDIR COMPILER\OUTPUT
MKDIR INSTALL

REM Przej˜cie do katalogu ze «r¢dˆami
CD SRC

REM Stworzenie plik¢w wykonywalnych
REM PLAN_P.EXE - program w trybie rzeczywistym
ECHO Kompilacja PLAN_R.EXE (program w trybie rzeczywistym)
REN MAIN.PAS MAIN_R.PAS
..\COMPILER\BPC.EXE -CD MAIN_R.PAS
REM PLAN_R.EXE - program w trybie chronionym
ECHO Kompilacja PLAN_P.EXE (program w trybie chronionym)
REN MAIN_R.PAS MAIN_P.PAS
..\COMPILER\BPC.EXE -CP MAIN_P.PAS

REN MAIN_P.PAS MAIN.PAS

REM Stworzenie moduˆu tworz¥cego plik zasob¢w
ECHO Kompilacja MK_RES.EXE
..\COMPILER\BPC.EXE -CD MK_RES.PAS

REM Stworzenie moduˆu instalatora
ECHO Kompilacja INSTALL.EXE (moduˆ instalacyjny)
..\COMPILER\BPC.EXE -CD INSTALL.PAS

REM Powr¢t do gˆ¢wnego katalogu programu
CD..

REM Katalog instalacyjny
ECHO Uaktualniam katalog instalacyjny
COPY TOOLS\INSTALL.INI INSTALL\INSTALL.INI >nul
COPY COMPILER\OUTPUT\INSTALL.EXE INSTALL\INSTALL.EXE >NUL
COPY COMPILER\OUTPUT\MAIN_R.EXE INSTALL\MAIN_R.INS >NUL
COPY COMPILER\OUTPUT\MAIN_P.EXE INSTALL\MAIN_P.INS >NUL
COPY COMPILER\OUTPUT\MK_RES.EXE INSTALL\MK_RES.INS >NUL
COPY TOOLS\RTM.EXE INSTALL\RTM.INS >NUL
COPY TOOLS\DPMI16BI.OVL INSTALL\DPMI16BI.INS >NUL
COPY TOOLS\PLAN.RES INSTALL\PLAN.INS >nul
COPY TOOLS\FINE.PPF INSTALL\FINE.INS >nul
COPY TOOLS\PL.EXE INSTALL\PL.INS >NUL
COPY TOOLS\START.BAT INSTALL\START.INS >NUL

COPY HELP\10.TXT INSTALL\10.INS >NUL
COPY HELP\11.TXT INSTALL\11.INS >NUL
COPY HELP\12.TXT INSTALL\12.INS >NUL
COPY HELP\8209.TXT INSTALL\8209.INS >NUL
COPY HELP\8210.TXT INSTALL\8210.INS >NUL
COPY HELP\8225.TXT INSTALL\8225.INS >NUL
COPY HELP\8226.TXT INSTALL\8226.INS >NUL
COPY HELP\8241.TXT INSTALL\8241.INS >NUL
COPY HELP\8242.TXT INSTALL\8242.INS >NUL
COPY HELP\8257.TXT INSTALL\8257.INS >NUL
COPY HELP\8258.TXT INSTALL\8258.INS >NUL
COPY HELP\8273.TXT INSTALL\8273.INS >NUL
COPY HELP\8274.TXT INSTALL\8274.INS >NUL
COPY HELP\8289.TXT INSTALL\8289.INS >NUL
COPY HELP\8290.TXT INSTALL\8290.INS >NUL
COPY HELP\8465.TXT INSTALL\8465.INS >NUL
COPY HELP\8481.TXT INSTALL\8481.INS >NUL
COPY HELP\8497.TXT INSTALL\8497.INS >NUL
COPY HELP\8513.TXT INSTALL\8513.INS >NUL
COPY HELP\8529.TXT INSTALL\8529.INS >NUL
